<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vubio | reading log</title>
    <link rel="icon" type="image/png" href="../../assets/images/vubio_favicon_small.png">

    <style>
        :root {
            --bg: #0b132b;
            --bg-light: #1c2541;
            --accent: #6fffe9;
            --text: #e0f2ff;
            --muted: #6b7b8c;
            --glass: rgba(12, 19, 43, 0.75);
        }

        * { box-sizing: border-box; }

        body {
            font-family: "Bahnschrift", "Segoe UI", Roboto, Arial, sans-serif;
            margin: 0;
            padding: 0;
            color: var(--text);
            background: 
                radial-gradient(circle at 20% 20%, rgba(111,255,233,0.08), transparent 30%),
                linear-gradient(145deg, var(--bg) 0%, var(--bg-light) 60%, var(--bg) 100%);
            background-attachment: fixed;
            min-height: 100vh;
        }

        nav {
            background: var(--glass);
            backdrop-filter: blur(10px);
            padding: 1.5rem;
            text-align: center;
            border-bottom: 1px solid rgba(111,255,233,0.1);
        }

        nav a {
            color: var(--text);
            margin: 0 15px;
            text-decoration: none;
            font-weight: 400;
            font-size: 0.95rem;
            text-transform: lowercase;
            letter-spacing: 0.05em;
        }

        nav a:hover {
            color: var(--accent);
        }

        .container {
            max-width: 900px;
            margin: 50px auto;
            padding: 0 20px;
        }

        section {
            background: var(--glass);
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 20px;
            border: 1px solid rgba(255,255,255,0.05);
        }

        h1, h2 {
            color: var(--accent);
            text-transform: lowercase;
            margin-top: 0;
        }

        input, select {
            width: 100%;
            padding: 10px;
            margin: 8px 0;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            color: var(--text);
            border-radius: 8px;
        }

        .paper {
            border-top: 1px solid rgba(255,255,255,0.08);
            padding: 20px 0;
        }

        .paper:first-child {
            border-top: none;
        }

        .meta {
            font-size: 0.85rem;
            color: var(--muted);
            margin-bottom: 6px;
        }

        ul {
            margin: 6px 0 0 20px;
        }

        .tags span {
            display: inline-block;
            margin: 4px 6px 0 0;
            padding: 2px 10px;
            border-radius: 999px;
            border: 1px solid rgba(255,255,255,0.2);
            font-size: 0.75rem;
            color: var(--accent);
        }

        footer {
            text-align: center;
            padding: 20px;
            color: var(--muted);
            font-size: 0.8rem;
            text-transform: lowercase;
        }
    </style>
</head>

<body>
    <nav>
        <a href="/">trang chủ</a>
        <a href="/personal/">personal</a>
        <a href="https://youtube.com/@vubio" target="_blank">youtube</a>
    </nav>

    <div class="container">
        <section>
            <h1>reading log</h1>
            <p>ghi chú ngắn gọn về các bài báo khoa học mình đã đọc.</p>

            <input id="search" placeholder="tìm theo tiêu đề, tag, nội dung...">
            <select id="status">
                <option value="">— tất cả trạng thái —</option>
                <option value="reading">reading</option>
                <option value="skimmed">skimmed</option>
                <option value="finished">finished</option>
            </select>
        </section>

        <section id="list"></section>
    </div>

    <footer>
        &copy; 2026 vubio
    </footer>

<script>
let DATA = [];

function matches(p, q, status) {
    const hay = [
        p.title,
        p.status,
        (p.tags || []).join(" "),
        (p.main_finding || []).join(" "),
        (p.interesting_points || []).join(" ")
    ].join(" ").toLowerCase();

    if (q && !hay.includes(q)) return false;
    if (status && (p.status || "").toLowerCase() !== status) return false;
    return true;
}

function render() {
    const q = document.getElementById("search").value.toLowerCase().trim();
    const status = document.getElementById("status").value;

    const list = document.getElementById("list");
    const items = DATA.filter(p => matches(p, q, status));

    list.innerHTML = items.map(p => `
        <div class="paper">
            <h2>${p.title || "(no title)"}</h2>
            <div class="meta">
                ${p.year_published || ""} · ${p.status || "—"} · ${p.date_started || ""}
            </div>

            ${p.main_finding?.length ? `
                <strong>main finding</strong>
                <ul>${p.main_finding.map(x => `<li>${x}</li>`).join("")}</ul>
            ` : ""}

            ${p.interesting_points?.length ? `
                <strong>interesting points</strong>
                <ul>${p.interesting_points.map(x => `<li>${x}</li>`).join("")}</ul>
            ` : ""}

            ${p.tags?.length ? `
                <div class="tags">
                    ${p.tags.map(t => `<span>${t}</span>`).join("")}
                </div>
            ` : ""}
        </div>
    `).join("");
}

async function load() {
    const res = await fetch("/_data/papers.json", { cache: "no-store" });
    DATA = await res.json();
    render();
}

document.getElementById("search").addEventListener("input", render);
document.getElementById("status").addEventListener("change", render);

load();
</script>

</body>
</html>
